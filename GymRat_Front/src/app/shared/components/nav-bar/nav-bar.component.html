<nav class="fixed z-50 w-full h-16 flex items-center justify-between">
  <img
    #menuIcon
    class="menu-icon ml-2 w-10 h-10 hover:cursor-pointer"
    src="assets/menu-icon.png"
    alt="gymrat-logo"
    (click)="this.onShowMenu()"
  />

  <div #navBarLeft id="nav-bar-left">
    <div class="w-full flex justify-around items-center">
      <div id="centering-div" class="w-10"></div>
      <img
        class="mb-2 hover:cursor-pointer"
        src="assets/gymrat-logo.png"
        alt="gymrat-logo"
        routerLink="/home"
      />
      <h1 class="cursor-pointer text-xl" (click)="this.onHideMenu()">X</h1>
    </div>

    <ul class="flex links-list">
      <li
        class="ml-4 cursor-pointer hover:text-blue-500"
        routerLink="/routines"
      >
        Routines
      </li>
      <li
        class="ml-4 cursor-pointer hover:text-blue-500"
        routerLink="/progress"
      >
        Progress
      </li>
      <li
        class="ml-4 cursor-pointer hover:text-blue-500"
        routerLink="/admin"
        *ngIf="this.role === 'ROLE_ADMIN'"
      >
        Admin
      </li>
    </ul>
  </div>
  <div class="relative flex items-center mr-2">
    <div
      class="mr-2 w-10 h-10"
      [matBadge]="this.notifications.length"
      matBadgePosition="before"
      matBadgeColor="warn"
      matBadgeSize="medium"
      [matBadgeHidden]="this.notifications.length === 0"
    >
      <img
        #notificationsIcon
        class="w-full h-full hover:cursor-pointer"
        src="assets/notification-icon.png"
        alt="notifications-icon"
        (click)="this.onOpenCloseDropdown()"
      />
    </div>

    <img
      class="mr-2 w-10 h-10 hover:cursor-pointer"
      src="assets/profile-icon.png"
      alt="profile-icon"
      [routerLink]="'/' + this.userName + '/profile'"
    />
    <shared-button
      class="h-9 w-20"
      buttonStyle="bg-violet-600 text-white hover:bg-violet-100 hover:text-black"
      (click)="this.logout()"
      >Log Out</shared-button
    >

    <shared-dropdown
      dropdownClassNames="w-full h-96 -left-20"
      [isOpen]="this.isNotificationsDropdownOpen"
      [openComponentRef]="this.notificationsIconRef"
      (onClickOutise)="this.onCloseDropdown()"
      (onEscape)="this.onCloseDropdown()"
    >
      <li
        class="flex items-center justify-between p-2 hover:bg-gray-200"
        *ngFor="let notification of this.notifications"
      >
        <p>{{ notification.sender }}</p>
        <div class="flex items-center">
          <img
            class="h-8 w-8 cursor-pointer"
            src="assets/accept.png"
            (click)="this.handleAcceptFriendRequest(notification)"
          />
          <img
            class="h-8 w-8 ml-1 cursor-pointer"
            src="assets/reject.png"
            (click)="this.handleRejectFriendRequest(notification)"
          />
        </div>
      </li>
    </shared-dropdown>
  </div>
</nav>
